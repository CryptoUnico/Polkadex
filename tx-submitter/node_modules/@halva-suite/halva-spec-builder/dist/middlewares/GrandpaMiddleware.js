"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.grandpaMiddleware = void 0;
exports.grandpaMiddleware = (context) => {
    var _a, _b, _c;
    if (!((_c = (_b = (_a = context.jsonSchema.genesis) === null || _a === void 0 ? void 0 : _a.runtime) === null || _b === void 0 ? void 0 : _b.palletGrandpa) === null || _c === void 0 ? void 0 : _c.authorities))
        throw new Error('Invalid JSON');
    const pairsGrandpa = context.ed25519Keys.getPairs();
    for (let i = 0; i < pairsGrandpa.length; i++) {
        context.jsonSchema.genesis.runtime.palletGrandpa.authorities.push([pairsGrandpa[i].address, 1]);
    }
    return context.jsonSchema;
};
//# sourceMappingURL=GrandpaMiddleware.js.map