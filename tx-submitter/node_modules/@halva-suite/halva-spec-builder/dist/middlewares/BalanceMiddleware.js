"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.balanceMiddleware = void 0;
exports.balanceMiddleware = (context) => {
    var _a, _b, _c;
    if (!((_c = (_b = (_a = context.jsonSchema.genesis) === null || _a === void 0 ? void 0 : _a.runtime) === null || _b === void 0 ? void 0 : _b.palletBalances) === null || _c === void 0 ? void 0 : _c.balances))
        throw new Error('Invalid JSON');
    const keys = [...context.sr25519Keys.getPairs(), ...context.ed25519Keys.getPairs()];
    const { balances } = context.jsonSchema.genesis.runtime.palletBalances;
    context.jsonSchema.genesis.runtime.palletBalances.balances = [
        ...balances,
        ...keys.map((pair) => ([
            pair.address,
            parseInt(context.balance, 10),
        ]))
    ];
    return context.jsonSchema;
};
//# sourceMappingURL=BalanceMiddleware.js.map